<div class="main">
  <div class="hero h-screen relative mb-10">
    <div
      class="content h-full flex-col flex justify-center ps-5 lg:ps-20 gap-6 pt-20"
    >
      <div
        data-aos="fade-up"
        class="flex gap-5 items-start flex-col justify-center lg:flex-row lg:items-center lg:justify-start"
      >
        <img src="/images/681fa15030b5138a486067f0_Hero Group Image.png" />
        <div class="clients">
          <img src="/images/681fa21a73079ca8a8394ff0_Hero Star Icon.svg" /><span
            class="text-white"
            >Trusted by 40+ clients
          </span>
        </div>
      </div>
      <h1
        data-aos="fade-up"
        data-aos-delay="100"
        class="text-[35px] lg:text-[70px] w-full lg:w-[600px] font-bold head-title mb-[10px] text-white"
      >
        Find Your Dream Home
      </h1>
      <p
        data-aos="fade-up"
        data-aos-delay="100"
        class="w-full lg:w-[45%] text-[#f1f1f1] lg:text-[20px]"
      >
        Discover exceptional properties in the world's most desirable locations
      </p>
      <a
        data-aos="fade-up"
        data-aos-delay="200"
        class="block p-2 lg:p-4 rounded text-white bg-secondary w-fit transition-colors hover:bg-head"
        >Explore Property</a
      >
    </div>
  </div>
  <div class="why-us flex flex-col gap-16 my-20 px-5">
    <div class="head flex justify-center items-center" data-aos="fade-up">
      <h2
        class="title font-semibold text-3xl lg:text-6xl text-center text-[#333333] max-w-[700px]"
      >
        Why choose our real estate expertise
      </h2>
    </div>
    <div class="content">
      <div class="container mx-auto grid lg:grid-cols-2 gap-10">
        <div class="images grid-cols-2 relative h-[550px] hidden lg:grid">
          <img
            data-aos="fade-down-right"
            src="/images/68418c6858cf9d7242812bd9_Estate Image 1.jpg"
            alt=""
            class="lg:w-[400px] absolute z-10 rounded-[15px]"
          />
          <div
            data-aos="fade-up-left"
            class="absolute z-20 top-40 right-[25px]"
          >
            <img
              src="/images/Two-Business-People-at-Table-1180x.jpg"
              alt=""
              class="lg:w-[400px] lg:h-[400px] object-cover rounded-[15px]"
            />
            <img
              src="/images/68418c6709119f3bc8e64dcc_Estate Icon.svg"
              class="absolute top-[-80px] lg:top-[-120px] right-9 lg:right-20 w-[100px] lg:w-[185px]"
            />
          </div>
        </div>
        <div class="features overflow-hidden">
          <div
            class="feature flex-col items-center text-center md:flex-row md:items-start md:text-start flex gap-6 py-6 px-4"
            data-aos="fade-up"
          >
            <div class="icon relative text-white">
              <span
                class="w-[50px] h-[50px] bg-secondary rounded-full flex justify-center items-center"
              >
                <i class="fa-solid fa-users"></i>
              </span>
            </div>
            <div class="content flex flex-col gap-3">
              <h3 class="font-medium text-2xl text-second">Expert Guidance</h3>
              <p class="opacity-70">
                Find homes by filtering for bidding wars and recent market price
                updates to make informed buying decisions easily.
              </p>
            </div>
          </div>
          <div
            class="feature flex-col items-center text-center md:flex-row md:items-start md:text-start flex gap-6 py-6 px-4"
            data-aos="fade-up"
          >
            <div class="icon relative text-white">
              <span
                class="w-[50px] h-[50px] bg-secondary rounded-full flex justify-center items-center"
                ><i class="fa-solid fa-city"></i
              ></span>
            </div>
            <div class="content flex flex-col gap-3">
              <h3 class="font-medium text-2xl text-second">
                Premium Property Selection
              </h3>
              <p class="opacity-70">
                Find homes by filtering for bidding wars and recent market price
                updates to make informed buying decisions easily.
              </p>
            </div>
          </div>
          <div
            class="feature flex-col items-center text-center md:flex-row md:items-start md:text-start flex gap-6 py-6 px-4"
            data-aos="fade-up"
          >
            <div class="icon relative text-white">
              <span
                class="w-[50px] h-[50px] bg-secondary rounded-full flex justify-center items-center"
                ><i class="fa-solid fa-spa"></i>
              </span>
            </div>
            <div class="content flex flex-col gap-3">
              <h3 class="font-medium text-2xl text-second">
                Stress-Free Process
              </h3>
              <p class="opacity-70">
                Find homes by filtering for bidding wars and recent market price
                updates to make informed buying decisions easily.
              </p>
            </div>
          </div>
          <div
            class="feature flex-col items-center text-center md:flex-row md:items-start md:text-start flex gap-6 py-6 px-4"
            data-aos="fade-up"
          >
            <div class="icon relative text-white">
              <span
                class="w-[50px] h-[50px] bg-secondary rounded-full flex justify-center items-center"
                ><i class="fa-solid fa-crown"></i
              ></span>
            </div>
            <div class="content flex flex-col gap-3">
              <h3 class="font-medium text-2xl text-second">
                Proven Track Record
              </h3>
              <p class="opacity-70">
                Find homes by filtering for bidding wars and recent market price
                updates to make informed buying decisions easily.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="properties py-5 lg:px-30">
    <div class="container mx-auto">
      <div class="title mb-5 px-5">
        <h2 class="text-2xl lg:text-4xl font-bold mb-3 text-[#333333]">
          Explore Properties Across Top Cities
        </h2>
        <p class="text-gray-600 text-[16px] lg:text-lg">
          Browse through the best real estate listings in different locations
        </p>
      </div>
      <p-tabs
        value="0"
        [lazy]="true"
        (valueChange)="onTabChange($event)"
        scrollable
      >
        <p-tablist class="cities-list">
          @for (city of cities; track $index) {

          <p-tab value="{{ $index }}">{{ city.name }}</p-tab>
          }
        </p-tablist>
        <p-tabpanels>
          @for (city of cities; track $index) { @if(activeTab==$index){
          <p-tabpanel value="{{ $index }}">
            @if(city.data){
            <div
              class="city-properties grid md:grid-cols-2 xl:grid-cols-4 gap-4"
            >
              @for (item of city.data; track $index) {

              <div class="property rounded-xl overflow-hidden relative">
                <span
                  class="absolute top-2 right-2 bg-secondary p-1 text-white rounded-full text-sm"
                  >{{ item.propertySubType }}</span
                >
                <img
                  [src]="item.propertyImages.mainImageSrc"
                  alt="{{ item.displayAddress }}"
                  class="w-full h-48 object-cover"
                />
                <div class="p-3 flex flex-col gap-3">
                  <div class="flex justify-between items-center">
                    <h3 class="font-semibold text-head text-lg truncate">
                      {{ item.displayAddress }}
                    </h3>
                  </div>
                  <div class="flex gap-2 text-sm mt-2">
                    <div>
                      <span><i class="fa-solid fa-bed"></i></span>
                      <span> {{ item.bedrooms }} |</span>
                    </div>
                    <div>
                      <span><i class="fa-solid fa-bath"></i></span>
                      <span> {{ item.bathrooms || 1 }}</span>
                    </div>
                    @if(item.displaySize){
                    <span>
                      <span><i class="fa-regular fa-square"></i></span>
                      <span>{{ item.displaySize }}</span>
                    </span>
                    }
                  </div>
                  <span class="font-bold text-[20px] block">
                    {{ item.price.displayPrices[0].displayPrice }}</span
                  >
                  <div class="card-footer">
                    <a
                      [routerLink]="['/propertyDetails', item.id]"
                      class="block bg-head text-white p-2 rounded text-center hover:bg-secondary transition-all"
                      >Learn More</a
                    >
                  </div>
                </div>
              </div>

              }
            </div>

            } @else {
            <div
              class="flex flex-col justify-center items-center py-10 space-y-3 grid-cols-12"
            >
              <span class="loader"></span>
              <p class="text-gray-600 text-lg font-medium">
                Loading {{ city.name }}...
              </p>
            </div>
            }
          </p-tabpanel>

          } }
        </p-tabpanels>
      </p-tabs>
    </div>
  </div>
  <div class="benefits px-5 my-5 py-5">
    <div class="container mx-auto flex flex-col gap-10">
      <h2
        class="title font-semibold text-3xl lg:text-6xl text-[#333333] max-w-[700px]"
      >
        Unlock more value with LuxeEstate
      </h2>
      <div class="columns grid grid-cols-1 md:grid-cols-3 gap-10">
        <div class="cards-column flex flex-col gap-8">
          <div
            class="card p-5 bg-[#F5F5F5] rounded-2xl flex flex-col gap-2 lg:gap-4 items-start"
          >
            <span class="text-[24px]"
              ><i class="fa-solid fa-graduation-cap"></i
            ></span>
            <h3 class="text-2xl">Schools</h3>
            <p class="opacity-70">
              Find homes in top-rated school districts by filtering listings to
              ensure the best education opportunities for your family.
            </p>
          </div>
          <div
            class="card p-5 bg-[#F5F5F5] rounded-2xl flex flex-col gap-2 lg:gap-4 items-start"
          >
            <span class="text-[24px]"
              ><i class="fa-solid fa-truck-fast"></i
            ></span>
            <h3 class="text-2xl">Public transport</h3>
            <p class="opacity-70">
              Find homes with excellent public transit access for a convenient,
              connected, and hassle-free commute.
            </p>
          </div>
        </div>
        <div
          class="cards-column flex flex-col gap-8 md:h-[620px] xl:h-[460px] overflow-hidden relative images"
        >
          <div class="card-slider flex flex-col gap-8">
            <div class="card rounded-2xl h-[200px] shrink-0">
              <img
                class="w-full h-full object-cover rounded-2xl"
                src="/images/second-home-slider/683f60a265f537a3b7cd3bff_Features-Image-1.png"
                alt=""
              />
            </div>
            <div class="card rounded-2xl h-[200px] shrink-0">
              <img
                class="w-full h-full object-cover rounded-2xl"
                src="/images/second-home-slider/683f60a37021d29070c31726_Features-Image-3.png"
                alt=""
              />
            </div>
            <div class="card rounded-2xl h-[200px] shrink-0">
              <img
                class="w-full h-full object-cover rounded-2xl"
                src="/images/second-home-slider/683f60a3f9707f702ca521ba_Features-Image-2.png"
                alt=""
              />
            </div>

            <div class="card rounded-2xl h-[200px] shrink-0">
              <img
                class="w-full h-full object-cover rounded-2xl"
                src="/images/second-home-slider/683f60a265f537a3b7cd3bff_Features-Image-1.png"
                alt=""
              />
            </div>
            <div class="card rounded-2xl h-[200px] shrink-0">
              <img
                class="w-full h-full object-cover rounded-2xl"
                src="/images/second-home-slider/683f60a37021d29070c31726_Features-Image-3.png"
                alt=""
              />
            </div>
            <div class="card rounded-2xl h-[200px] shrink-0">
              <img
                class="w-full h-full object-cover rounded-2xl"
                src="/images/second-home-slider/683f60a3f9707f702ca521ba_Features-Image-2.png"
                alt=""
              />
            </div>
          </div>
        </div>

        <div class="cards-column flex flex-col gap-8">
          <div
            class="card p-5 bg-[#F5F5F5] rounded-2xl flex flex-col gap-2 lg:gap-4 items-start"
          >
            <span class="text-[24px]"
              ><i class="fa-solid fa-chart-column"></i>
            </span>
            <h3 class="text-2xl">Market comparison</h3>
            <p class="opacity-70">
              Stay updated on every new listing and price change in your area
              for smarter real estate decisions effortlessly.
            </p>
          </div>
          <div
            class="card p-5 bg-[#F5F5F5] rounded-2xl flex flex-col gap-2 lg:gap-4 items-start"
          >
            <span class="text-[24px]">
              <i class="fa-solid fa-triangle-exclamation"></i>
            </span>
            <h3 class="text-2xl">Natural hazards</h3>
            <p class="opacity-70">
              Filter homes by seismic risks, flood risks, and more to find a
              safe and secure property effortlessly.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="property-types py-10">
    <div class="heading text-white py-8">
      <h1 class="head-title text-white">Find Your Ideal Property Type</h1>
      <p class="head-text">Explore properties that fit your lifestyle</p>
    </div>
    <div class="container mx-auto text-white px-4">
      <div
        class="types grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 py-8"
      >
        <div
          class="typeCard flex flex-col gap-4 justify-center items-center rounded-2xl p-8"
        >
          <div
            class="typeIcon bg-secondary size-[85px] rounded-full flex items-center justify-center text-3xl"
          >
            <i class="fas fa-building"></i>
          </div>
          <h3 class="typeTitle text-[22px] font-bold">Apartment</h3>
          <div class="typeCount text-[18px] font-bold text-secondary">
            14,773 Units
          </div>
          <p class="typeDescription text-center w-[75%] opacity-70">
            Modern apartments in upscale compounds with full amenities
          </p>
        </div>

        <div
          class="typeCard flex flex-col gap-4 justify-center items-center rounded-2xl p-8"
        >
          <div
            class="typeIcon bg-secondary size-[85px] rounded-full flex items-center justify-center text-3xl"
          >
            <i class="fas fa-home"></i>
          </div>
          <h3 class="typeTitle text-[22px] font-bold">Villa</h3>
          <div class="typeCount text-[18px] font-bold text-secondary">
            6,088 Units
          </div>
          <p class="typeDescription text-center w-[75%] opacity-70">
            Luxury standalone villas with private gardens and swimming pools
          </p>
        </div>

        <div
          class="typeCard flex flex-col gap-4 justify-center items-center rounded-2xl p-8"
        >
          <div
            class="typeIcon bg-secondary size-[85px] rounded-full flex items-center justify-center text-3xl"
          >
            <i class="fas fa-store"></i>
          </div>
          <h3 class="typeTitle text-[22px] font-bold">Shop</h3>
          <div class="typeCount text-[18px] font-bold text-secondary">
            4,492 Units
          </div>
          <p class="typeDescription text-center w-[75%] opacity-70">
            Commercial shops located in active business areas
          </p>
        </div>

        <div
          class="typeCard flex flex-col gap-4 justify-center items-center rounded-2xl p-8"
        >
          <div
            class="typeIcon bg-secondary size-[85px] rounded-full flex items-center justify-center text-3xl"
          >
            <i class="fas fa-house-flood-water"></i>
          </div>
          <h3 class="typeTitle text-[22px] font-bold">Chalet</h3>
          <div class="typeCount text-[18px] font-bold text-secondary">
            3,646 Units
          </div>
          <p class="typeDescription text-center w-[75%] opacity-70">
            Beach chalets for holidays with access to the shore and resort
            facilities
          </p>
        </div>

        <div
          class="typeCard flex flex-col gap-4 justify-center items-center rounded-2xl p-8"
        >
          <div
            class="typeIcon bg-secondary size-[85px] rounded-full flex items-center justify-center text-3xl"
          >
            <i class="fas fa-briefcase"></i>
          </div>
          <h3 class="typeTitle text-[22px] font-bold">Office</h3>
          <div class="typeCount text-[18px] font-bold text-secondary">
            3,029 Units
          </div>
          <p class="typeDescription text-center w-[75%] opacity-70">
            Offices, commercial units, and diverse investment opportunities
          </p>
        </div>

        <div
          class="typeCard flex flex-col gap-4 justify-center items-center rounded-2xl p-8"
        >
          <div
            class="typeIcon bg-secondary size-[85px] rounded-full flex items-center justify-center text-3xl"
          >
            <i class="fas fa-city"></i>
          </div>
          <h3 class="typeTitle text-[22px] font-bold">Townhouse</h3>
          <div class="typeCount text-[18px] font-bold text-secondary">
            2,399 Units
          </div>
          <p class="typeDescription text-center w-[75%] opacity-70">
            Multi-level homes that combine privacy with community living
          </p>
        </div>

        <div
          class="typeCard flex flex-col gap-4 justify-center items-center rounded-2xl p-8"
        >
          <div
            class="typeIcon bg-secondary size-[85px] rounded-full flex items-center justify-center text-3xl"
          >
            <i class="fas fa-house-user"></i>
          </div>
          <h3 class="typeTitle text-[22px] font-bold">Twin House</h3>
          <div class="typeCount text-[18px] font-bold text-secondary">
            1,872 Units
          </div>
          <p class="typeDescription text-center w-[75%] opacity-70">
            Semi-attached villas with private gardens and separate entrances
          </p>
        </div>

        <div
          class="typeCard flex flex-col gap-4 justify-center items-center rounded-2xl p-8"
        >
          <div
            class="typeIcon bg-secondary size-[85px] rounded-full flex items-center justify-center text-3xl"
          >
            <i class="fas fa-layer-group"></i>
          </div>
          <h3 class="typeTitle text-[22px] font-bold">Duplex</h3>
          <div class="typeCount text-[18px] font-bold text-secondary">
            1,185 Units
          </div>
          <p class="typeDescription text-center w-[75%] opacity-70">
            Two-level duplex apartments offering space and privacy
          </p>
        </div>
      </div>
    </div>
  </div>
  <div class="special-properties my-5">
    <div class="heading">
      <h1 class="head-title text-head">Special properties</h1>
      <p class="head-text">
        Discover a selection of premium properties tailored to your lifestyle
      </p>
    </div>

    <div class="mx-auto px-4">
      <swiper-container class="mySwiper" init="false" #swiperRef>
        @for (prop of properties; track $index) {
        <swiper-slide>
          @if(properties?.length){
          <div
            class="property rounded-2xl overflow-hidden mx-2 shadow cursor-pointer"
            (click)="navigateToDetails(prop.id)"
          >
            <img
              [src]="prop.propertyImages.mainImageSrc"
              alt=""
              class="w-full object-cover h-[250px]"
            />

            <div class="info flex flex-col gap-3 p-4">
              <div class="property-info flex justify-between items-start">
                <div class="price-info flex flex-col gap-1">
                  <span class="opacity-70 text-sm">{{
                    prop.propertySubType
                  }}</span>
                  <h3 class="text-[18px] font-bold">
                    {{ prop.price.displayPrices[0].displayPrice }}
                  </h3>
                  <p class="opacity-70 text-sm line-clamp-1">
                    {{ prop.displayAddress }}
                  </p>
                </div>
                <img
                  [src]="prop.customer.brandPlusLogoUrl"
                  alt="logo"
                  class="rounded w-[60px]"
                />
              </div>

              <div class="details flex gap-3 text-sm text-gray-700">
                <div>
                  <i class="fa-solid fa-bed"></i>
                  <span>{{ prop.bedrooms }}</span>
                </div>
                <div>
                  <i class="fa-solid fa-bath"></i>
                  <span>{{ prop.bathrooms }}</span>
                </div>
                <div class="flex items-center gap-1">
                  <svg
                    width="18"
                    height="18"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M6 19.2563L7.14783 18.1236C7.34385 17.9292 7.66043 17.9304 7.85493 18.1263C8.04943 18.3222 8.04819 18.6386 7.85217 18.833L5.85217 20.8084C5.65723 21.0017 5.34277 21.0017 5.14783 20.8084L3.14783 18.833C2.95181 18.6386 2.95057 18.3222 3.14507 18.1263C3.33957 17.9304 3.65615 17.9292 3.85217 18.1236L5 19.2563V9.6821L3.85217 10.8148C3.65615 11.0092 3.33957 11.008 3.14507 10.8121C2.95057 10.6162 2.95181 10.2998 3.14783 10.1054L5.14783 8.13006C5.34277 7.93677 5.65723 7.93677 5.85217 8.13006L7.85217 10.1054C8.04819 10.2998 8.04943 10.6162 7.85493 10.8121C7.66043 11.008 7.34385 11.0092 7.14783 10.8148L6 9.6821V19.2563ZM9.70978 5.99806L10.8433 7.14514C11.0378 7.34104 11.0365 7.65741 10.8405 7.85179C10.6445 8.04616 10.3279 8.04492 10.1334 7.84902L8.15674 5.85032C7.96332 5.65551 7.96332 5.34125 8.15674 5.14644L10.1334 3.14773C10.3279 2.95184 10.6445 2.9506 10.8405 3.14497C11.0365 3.33935 11.0378 3.65572 10.8433 3.85162L9.70978 4.9987H19.2902L18.1567 3.85162C17.9622 3.65572 17.9635 3.33935 18.1595 3.14497C18.3555 2.9506 18.6721 2.95184 18.8666 3.14773L20.8433 5.14644C21.0367 5.34125 21.0367 5.65551 20.8433 5.85032L18.8666 7.84902C18.6721 8.04492 18.3555 8.04616 18.1595 7.85179C17.9635 7.65741 17.9622 7.34104 18.1567 7.14514L19.2902 5.99806H9.70978ZM21 19.0013C21 20.1052 20.1046 21 19 21H11C9.89543 21 9 20.1052 9 19.0013V11.0065C9 9.90263 9.89543 9.00778 11 9.00778H19C20.1046 9.00778 21 9.90263 21 11.0065V13.0052H20V11.0065C20 10.4546 19.5523 10.0071 19 10.0071H11C10.4477 10.0071 10 10.4546 10 11.0065V19.0013C10 19.5532 10.4477 20.0006 11 20.0006H19C19.5523 20.0006 20 19.5532 20 19.0013H21ZM21 17.0026H20V15.0039H21V17.0026Z"
                      fill="currentColor"
                    ></path>
                  </svg>
                  <span>{{ prop.displaySize }}</span>
                </div>
              </div>
            </div>

            <div
              class="property-footer bg-gray-50 p-3 flex justify-between items-center flex-wrap gap-2"
            >
              <span class="text-[14px] opacity-70">{{
                prop.firstVisibleDate | date
              }}</span>
              <div class="contact flex gap-2 items-center">
                <a
                  (click)="toggleNumber(prop.id); $event.stopPropagation()"
                  class="flex justify-center items-center select-none py-1 px-2 rounded text-head border border-head transition-all hover:bg-head hover:text-white"
                >
                  <i class="fa-solid fa-phone mr-1"></i>
                  <span>
                    @if(shownNumbers[prop.id]) {
                    {{ prop.customer.contactTelephone }}
                    } @else { Call }
                  </span>
                </a>

                <a
                  href="https://wa.me/201210886136"
                  target="_blank"
                  (click)="$event.stopPropagation()"
                  class="flex justify-center items-center select-none py-1 px-2 rounded text-head border border-head transition-all hover:bg-head hover:text-white"
                >
                  <i class="fa-brands fa-whatsapp mr-1"></i> WhatsApp
                </a>

                <span class="w-[1.5px] bg-gray-200 block h-[20px]"></span>

                <div class="flex gap-2">
                  <p-button showDelay="1000" hideDelay="300" label="Save" />

                  <a
                    pTooltip="Add To Compare"
                    tooltipPosition="bottom"
                    class="text-[18px] flex justify-center items-center py-1 px-2 rounded text-head border border-head hover:bg-head hover:text-white"
                    (click)="service.AddToCompare(prop)"
                    (click)="$event.stopPropagation()"
                  >
                    <i class="fa-solid fa-plus"></i>
                  </a>
                </div>
              </div>
            </div>
          </div>
          }
        </swiper-slide>

        }
      </swiper-container>
    </div>
  </div>
</div>
